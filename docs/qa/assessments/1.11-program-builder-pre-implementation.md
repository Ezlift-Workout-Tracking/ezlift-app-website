# Pre-Implementation Assessment: Story 1.11 - Program Builder

**Date**: 2025-01-12  
**Reviewer**: Quinn (Test Architect)  
**Status**: DRAFT - Ready for Implementation  
**Assessment Type**: Proactive Quality Guidance  
**Complexity**: üî¥ **HIGHEST** (Most complex feature in Epic 1)

---

## ‚úÖ Story Readiness Assessment

**Overall Readiness**: ‚ö†Ô∏è **READY WITH SIGNIFICANT CAUTIONS**

This is the **flagship feature** of the web MVP - the most complex UI, most dependencies, and highest user expectations. Requires careful phased implementation and extensive testing.

---

## üö® CRITICAL RISKS & PRIORITIES

### üî¥ P0 Risks (MUST Address)

**RISK-PB-001: User Data State Gating MUST Work** üî¥ **CRITICAL**
- **Risk**: Existing users bypass gate and edit programs = data corruption
- **Probability**: Medium (gate implementation must be bulletproof)
- **Impact**: **CRITICAL** (data loss, mobile sync conflicts)
- **Mitigation**:
  - ‚úÖ **MUST**: Gate at multiple levels (route, component, API)
  - ‚úÖ **MUST**: Test with both new and existing user accounts
  - ‚úÖ **MUST**: Backend validates user state before writes
  - ‚úÖ **MUST**: Fail-safe to read-only (never fail open)
  - ‚úÖ **MUST**: Analytics tracking for gate bypass attempts
- **Testing**: 
  - Test with existing user token ‚Üí Verify blocked
  - Test with forged user state ‚Üí Verify backend validation
  - Test gate on multiple entry points (direct URL, navigation, onboarding)
- **Priority**: **P0** - This gate is MVP's core constraint

**RISK-PB-002: Mobile Sync Corruption** üî¥ **CRITICAL**
- **Risk**: Programs created on web don't sync to mobile correctly
- **Probability**: Medium (sync relies on Changes table writes - IV2, AC6)
- **Impact**: **CRITICAL** (user loses program on mobile)
- **Mitigation**:
  - ‚úÖ **MUST**: Verify Changes table writes (confirmed in architecture)
  - ‚úÖ **MUST**: Test mobile sync after program creation
  - ‚úÖ **MUST**: Add integration test for Changes table write
  - ‚úÖ **MUST**: Document mobile sync testing steps
- **Testing**: Create program on web ‚Üí Open mobile app ‚Üí Verify program syncs
- **Priority**: **P0** - Blocking issue if sync fails

**RISK-PB-003: Data Loss During Builder** üî¥ **CRITICAL**
- **Risk**: User creates 3 workouts, browser crashes/refreshes = all lost
- **Probability**: Low (but impact is high)
- **Impact**: High (user frustration, lost work)
- **Mitigation**:
  - ‚úÖ **MUST**: Implement auto-save to localStorage
  - ‚úÖ **MUST**: Restore from localStorage on page load
  - ‚úÖ **MUST**: Show "Draft restored" message
  - ‚úÖ **MUST**: Clear localStorage after successful save
  - ‚ö†Ô∏è **NOT IN AC**: This is a quality improvement (add AC?)
- **Priority**: **P0** - Add to scope or risk poor UX

### üü° High Risks

**RISK-PB-004: Drag-and-Drop Complexity**
- **Risk**: Drag-drop library conflicts, touch issues, performance problems
- **Probability**: Medium (dnd-kit is complex)
- **Impact**: High (core feature doesn't work)
- **Mitigation**:
  - Test on desktop (mouse) and mobile (touch)
  - Test with many exercises (20+ in one workout)
  - Implement keyboard alternative (up/down buttons)
  - Test with different screen sizes
- **Priority**: **P1** - IV4 already requires testing

**RISK-PB-005: Component Reuse from Public Site**
- **Risk**: Exercise Library components not designed for builder context
- **Probability**: Medium (may require modifications)
- **Impact**: Medium (extra development time, potential bugs)
- **Mitigation**:
  - Create builder-specific variants if needed
  - Don't modify public site components (isolation)
  - Test search/filter performance (IV3)
  - Consider separate `ExerciseCardBuilder` component
- **Priority**: **P1** - Plan for adaptation time

**RISK-PB-006: Real-Time Metrics Calculations**
- **Risk**: Metrics panel calculations on every exercise add/remove = performance issues
- **Probability**: Low (useMemo prevents)
- **Impact**: Medium (laggy UI)
- **Mitigation**:
  - Use useMemo for all calculations
  - Debounce metric updates
  - Test with 20+ exercises in workout
- **Priority**: **P2** - Monitor performance

---

## üß™ Test Design Recommendations

### CRITICAL Test Requirements (50-60 tests minimum)

**Access Control Tests** (10 tests) - **P0**:
```typescript
describe('Program Builder Access Control', () => {
  it('should allow access for new users', () => {
    mockUserDataState('new');
    render(<ProgramBuilderGate><Builder /></ProgramBuilderGate>);
    expect(screen.getByText('Workout 1')).toBeInTheDocument();
  });
  
  it('should block existing users with read-only message', () => {
    mockUserDataState('existing');
    render(<ProgramBuilderGate><Builder /></ProgramBuilderGate>);
    expect(screen.getByText(/Program Builder - New Users Only/)).toBeInTheDocument();
  });
  
  it('should block on unknown state (fail-safe)', () => {
    mockUserDataState('unknown');
    render(<ProgramBuilderGate><Builder /></ProgramBuilderGate>);
    expect(screen.getByText(/Program Builder - New Users Only/)).toBeInTheDocument();
  });
  
  it('should track gate bypass attempts', () => {
    mockUserDataState('existing');
    // Attempt to access via direct URL
    router.push('/app/programs/create');
    
    expect(analytics.track).toHaveBeenCalledWith('Program Builder Access Blocked', {
      userState: 'existing',
      source: 'direct_navigation'
    });
  });
  
  // ... 6 more access control tests
});
```

**Metrics Panel Tests** (10 tests):
```typescript
describe('Metrics Panel Calculations', () => {
  it('should calculate muscles covered', () => {
    const exercises = [
      { muscleGroups: ['Chest', 'Triceps'] },
      { muscleGroups: ['Chest', 'Shoulders'] }
    ];
    
    const metrics = calculateMetrics(exercises);
    expect(metrics.musclesCovered).toEqual(['Chest', 'Shoulders', 'Triceps']);
  });
  
  it('should estimate duration (sets √ó rest time)', () => {
    const exercises = [
      { sets: 3, restTime: 90 }, // 270 seconds
      { sets: 4, restTime: 60 }  // 240 seconds
    ];
    
    const metrics = calculateMetrics(exercises);
    expect(metrics.estimatedDuration).toBe(510); // 8.5 minutes
  });
  
  // ... 8 more metric tests
});
```

**Drag-and-Drop Tests** (8 tests) - **P1**:
```typescript
describe('Exercise Reordering', () => {
  it('should reorder exercises via drag-drop', () => {
    const { container } = render(<WorkoutEditor exercises={[ex1, ex2, ex3]} />);
    
    // Simulate drag ex3 to position 0
    dragAndDrop(container, 'ex3', 0);
    
    expect(getExerciseOrder()).toEqual(['ex3', 'ex1', 'ex2']);
  });
  
  it('should work on mobile (touch events)', () => {
    // Test touch drag
  });
  
  // ... 6 more drag-drop tests
});
```

**Integration Tests** (15 tests):
```typescript
describe('Program Builder - Complete Flow', () => {
  it('should complete full program creation', async () => {
    mockUserDataState('new');
    render(<ProgramBuilder />);
    
    // Workout 1
    await addExercise('Bench Press');
    await configureExercise({ sets: 3, reps: 8 });
    await addExercise('Squats');
    clickNext();
    
    // Workout 2
    await addExercise('Deadlifts');
    clickNext();
    
    // Overview
    expect(screen.getByText('Program Overview')).toBeInTheDocument();
    
    // Save
    clickSave();
    await waitFor(() => {
      expect(fetch).toHaveBeenCalledWith('/api/routine', expect.objectContaining({
        method: 'POST'
      }));
    });
    
    // Verify redirect
    expect(router.push).toHaveBeenCalledWith('/app');
  });
  
  it('should restore from localStorage after refresh', () => {
    // Simulate partial completion
    localStorage.setItem('program-draft', JSON.stringify({
      workouts: [{ name: 'Workout 1', exercises: [...] }]
    }));
    
    render(<ProgramBuilder />);
    
    expect(screen.getByText('Draft restored')).toBeInTheDocument();
    expect(getWorkouts()).toHaveLength(1);
  });
  
  // ... 13 more integration tests
});
```

---

## üèóÔ∏è NFR Recommendations

### Security üî¥ **CRITICAL**

**User State Gating** (MUST be bulletproof):

**Multi-Layer Defense**:
```typescript
// Layer 1: Route protection
// middleware.ts
if (pathname.startsWith('/app/programs/create')) {
  const userState = await getUserDataState(userId);
  if (userState !== 'new') {
    return NextResponse.redirect('/app/programs'); // Redirect existing users
  }
}

// Layer 2: Component gate
// ProgramBuilderGate.tsx
if (userState.state === 'existing' || userState.state === 'unknown') {
  return <ReadOnlyMessage />;
}

// Layer 3: API validation
// POST /api/routine
if (user.hasExistingData) {
  return { error: 'Program creation restricted for existing users', status: 403 };
}
```

**Why 3 Layers**: Defense in depth - if one layer fails, others protect data

### Performance

**Targets**:
- Exercise search: < 100ms (reuse from public library)
- Metrics update: < 50ms (useMemo prevents)
- Drag-drop: 60fps smooth animation
- Auto-save: < 100ms (localStorage write)
- Program save: < 2 seconds (API call)

**Performance Testing REQUIRED**:
- 20+ exercises in one workout ‚Üí Drag-drop smooth
- Exercise search with 1000+ exercises ‚Üí Results < 100ms
- Metrics recalculation ‚Üí Test with 50 exercises

### Reliability üî¥ **CRITICAL**

**Auto-Save Implementation**:
```typescript
// Save draft every 30 seconds OR on significant changes
useEffect(() => {
  const timer = setInterval(() => {
    if (hasUnsavedChanges) {
      saveDraftToLocalStorage(programState);
      console.log('[Auto-save] Draft saved to localStorage');
    }
  }, 30000); // 30 seconds
  
  return () => clearInterval(timer);
}, [programState, hasUnsavedChanges]);

// Save on exercise add/remove immediately
const addExercise = (exercise: Exercise) => {
  const newState = { ...programState, workouts: [...] };
  setProgramState(newState);
  saveDraftToLocalStorage(newState); // Immediate save
};
```

**Draft Restoration**:
```typescript
// On component mount
useEffect(() => {
  const draft = localStorage.getItem('program-draft');
  if (draft) {
    const parsed = JSON.parse(draft);
    setProgramState(parsed);
    setShowDraftRestored(true);
    
    analytics.track('Program Builder Draft Restored', {
      workoutCount: parsed.workouts.length,
      exerciseCount: countExercises(parsed)
    });
  }
}, []);
```

---

## üí° Implementation Guidance

### Phased Implementation (RECOMMENDED)

**Phase 1** (4-5 hours): Access Control & Basic Shell
1. Implement ProgramBuilderGate with tests
2. Create basic shell (no builder yet)
3. Test blocking for existing users
4. Verify analytics tracking

**Phase 2** (3-4 hours): Exercise Selection Grid
1. Adapt ExerciseCard for builder context
2. Integrate search/filter components
3. Test add-to-workout functionality
4. Performance test search/filter

**Phase 3** (4-5 hours): Workout Editor
1. Implement exercise list in workout
2. Add set configuration modal
3. Implement remove exercise
4. Test all interactions

**Phase 4** (3-4 hours): Drag-and-Drop
1. Install and configure dnd-kit
2. Implement desktop drag-drop
3. Implement mobile touch reorder
4. Test on all devices

**Phase 5** (2-3 hours): Metrics Panel
1. Calculate muscles covered
2. Calculate estimated duration
3. Calculate exercise variety
4. Real-time updates

**Phase 6** (2-3 hours): Multi-Workout Flow
1. Workout navigation sidebar
2. Flow transitions (W1 ‚Üí W2 ‚Üí W3)
3. Program overview screen
4. Auto-save current workout before transition

**Phase 7** (2-3 hours): Save & Sync
1. Implement save mutation
2. POST /api/routine + /api/workout calls
3. Verify Changes table write
4. Test dashboard refresh

**Phase 8** (3-4 hours): Testing & Polish
1. Integration tests (15+ tests)
2. E2E test (complete flow)
3. Browser testing with real data
4. Mobile sync verification

**Total Estimate**: 23-31 hours ‚ö†Ô∏è **This is effectively 3-4 day story**

---

## üö® CRITICAL QUALITY GATES

### Gate 1: Access Control (BLOCKING)

**MUST VERIFY** before proceeding to Phase 2:
- [ ] Existing user completely blocked from builder
- [ ] New user has full access
- [ ] Unknown state defaults to read-only (fail-safe)
- [ ] Direct URL navigation blocked for existing users
- [ ] Read-only message clear and helpful
- [ ] Analytics tracks all block attempts

**Test Cases**:
```typescript
describe('GATE 1: Access Control', () => {
  it('CRITICAL: Blocks existing users at all entry points', async () => {
    mockUserDataState('existing');
    
    // Entry point 1: Navigation
    router.push('/app/programs/create');
    expect(screen.getByText(/New Users Only/)).toBeInTheDocument();
    
    // Entry point 2: Direct URL
    window.location.href = '/app/programs/create';
    expect(screen.getByText(/New Users Only/)).toBeInTheDocument();
    
    // Entry point 3: Onboarding flow
    completeOnboardingStep(7);
    expect(currentRoute()).not.toBe('/app/programs/create');
  });
});
```

**DO NOT PROCEED** to Phase 2 until Gate 1 passes.

### Gate 2: Component Reuse (IMPORTANT)

**MUST VERIFY** before Phase 3:
- [ ] ExerciseCard renders in builder context
- [ ] Search/filter performance matches public library (IV3)
- [ ] 4-column grid works (AC: 4-column from story)
- [ ] Add button functionality works
- [ ] No regressions in public exercise library

### Gate 3: Save & Sync (BLOCKING)

**MUST VERIFY** before marking story complete:
- [ ] Programs save to backend successfully
- [ ] Changes table write confirmed (AC6, IV2)
- [ ] Mobile sync tested and working
- [ ] Dashboard shows new program immediately
- [ ] User data state cache invalidated

**CRITICAL**: Story cannot be DONE without mobile sync verification

---

## üß™ Test Design Recommendations

### Required Test Coverage (50-60 tests)

**Access Control Tests** (10 tests) - **P0**:
- See Gate 1 tests above

**Exercise Selection Tests** (12 tests):
- ‚úÖ Search exercise ‚Üí Results shown
- ‚úÖ Filter by muscle group ‚Üí Results filtered
- ‚úÖ Click "+ Add" ‚Üí Exercise added to workout
- ‚úÖ Exercise added ‚Üí Show "‚úì Added" briefly
- ‚úÖ Same exercise added twice ‚Üí Allowed (different sets)
- ‚úÖ Search performance (IV3) ‚Üí < 100ms

**Workout Editor Tests** (15 tests):
- ‚úÖ Add exercise ‚Üí Shows in list
- ‚úÖ Configure sets ‚Üí Modal opens, saves config
- ‚úÖ Remove exercise ‚Üí Removed from list
- ‚úÖ Reorder exercises ‚Üí Order updated
- ‚úÖ Empty workout ‚Üí Can't proceed to next
- ‚úÖ Complete workout ‚Üí "Next Workout" enabled

**Metrics Panel Tests** (8 tests):
- ‚úÖ Muscles covered calculated correctly
- ‚úÖ Duration estimated correctly
- ‚úÖ Variety counted correctly
- ‚úÖ Updates when exercise added/removed

**Multi-Workout Flow Tests** (10 tests):
- ‚úÖ Navigate W1 ‚Üí W2 ‚Üí Current workout saved
- ‚úÖ Navigate back W2 ‚Üí W1 ‚Üí Shows previous exercises
- ‚úÖ Complete W1, W2, W3 ‚Üí Overview shows all
- ‚úÖ Edit workout from overview ‚Üí Returns to editor
- ‚úÖ Max 6 workouts enforced

**Save & Sync Tests** (5 tests) - **P0**:
```typescript
describe('Program Save & Sync', () => {
  it('CRITICAL: Writes to Changes table for mobile sync', async () => {
    const program = createTestProgram();
    
    await saveProgram(program);
    
    // Verify Changes table write
    expect(mockAPI.post).toHaveBeenCalledWith('/api/changes', 
      expect.objectContaining({
        table: 'routines',
        action: 'create',
        id: expect.any(String)
      })
    );
  });
  
  it('CRITICAL: Program syncs to mobile app', async () => {
    // This may require manual testing with mobile device
    // Document testing procedure in completion notes
  });
});
```

---

## üí° Implementation Guidance

### CRITICAL: Auto-Save Implementation

**NOT IN AC BUT ESSENTIAL**:
```typescript
// hooks/useProgramDraft.ts
const DRAFT_KEY = 'ezlift-program-draft';

export function useProgramDraft() {
  const [programState, setProgramState] = useState<ProgramState | null>(null);
  const [draftRestored, setDraftRestored] = useState(false);
  
  // Restore on mount
  useEffect(() => {
    const draft = localStorage.getItem(DRAFT_KEY);
    if (draft) {
      try {
        const parsed = JSON.parse(draft);
        setProgramState(parsed);
        setDraftRestored(true);
        
        analytics.track('Program Builder Draft Restored', {
          workoutCount: parsed.workouts.length
        });
      } catch (error) {
        console.error('Failed to restore draft:', error);
        localStorage.removeItem(DRAFT_KEY);
      }
    }
  }, []);
  
  // Auto-save every 30 seconds
  useEffect(() => {
    if (!programState) return;
    
    const timer = setInterval(() => {
      localStorage.setItem(DRAFT_KEY, JSON.stringify(programState));
      console.log('[Auto-save] Draft saved');
    }, 30000);
    
    return () => clearInterval(timer);
  }, [programState]);
  
  // Save immediately on significant changes
  const saveDraft = useCallback(() => {
    if (programState) {
      localStorage.setItem(DRAFT_KEY, JSON.stringify(programState));
    }
  }, [programState]);
  
  // Clear draft after successful save
  const clearDraft = useCallback(() => {
    localStorage.removeItem(DRAFT_KEY);
  }, []);
  
  return {
    programState,
    setProgramState,
    draftRestored,
    saveDraft,
    clearDraft
  };
}
```

**Why Essential**: Protects hours of user work from data loss

### Component Reuse Strategy

**ExerciseCard Adaptation**:
```typescript
// Option 1: Wrap existing component (RECOMMENDED)
<ExerciseCard 
  exercise={exercise}
  variant="builder"  // New variant prop
  onAdd={() => addExerciseToWorkout(exercise)}
  showAddButton={true}
/>

// Option 2: Create builder-specific component (if needed)
<ExerciseCardBuilder 
  exercise={exercise}
  onAdd={() => addExerciseToWorkout(exercise)}
/>
```

**Recommendation**: Try Option 1 first, fallback to Option 2 if conflicts arise

### Drag-and-Drop Implementation

**Use @dnd-kit/core** (recommended):
```typescript
import { DndContext, closestCenter } from '@dnd-kit/core';
import { SortableContext, verticalListSortingStrategy } from '@dnd-kit/sortable';
import { useSortable } from '@dnd-kit/sortable';

function WorkoutEditor({ exercises }: Props) {
  const [exerciseOrder, setExerciseOrder] = useState(exercises);
  
  const handleDragEnd = (event: DragEndEvent) => {
    const { active, over } = event;
    if (active.id !== over?.id) {
      setExerciseOrder((items) => {
        const oldIndex = items.findIndex((i) => i.id === active.id);
        const newIndex = items.findIndex((i) => i.id === over.id);
        return arrayMove(items, oldIndex, newIndex);
      });
    }
  };
  
  return (
    <DndContext 
      collisionDetection={closestCenter} 
      onDragEnd={handleDragEnd}
    >
      <SortableContext items={exerciseOrder} strategy={verticalListSortingStrategy}>
        {exerciseOrder.map((exercise) => (
          <SortableExerciseItem key={exercise.id} exercise={exercise} />
        ))}
      </SortableContext>
    </DndContext>
  );
}
```

**Mobile Support**: dnd-kit has excellent touch support built-in

---

## üéØ Acceptance Criteria Review

| AC # | Testable? | Complete? | Recommendation |
|------|-----------|-----------|----------------|
| AC1 | ‚úÖ Yes | ‚úÖ Complete | **CRITICAL**: Test thoroughly at all entry points |
| AC2 | ‚úÖ Yes | ‚úÖ Complete | Good: Read-only message specified |
| AC3 | ‚ö†Ô∏è Complex | ‚ö†Ô∏è Vague | **BREAK DOWN**: This is 8 features in one AC (should be separate ACs) |
| AC4 | ‚úÖ Yes | ‚úÖ Complete | Good: Flow navigation clear |
| AC5 | ‚úÖ Yes | ‚ö†Ô∏è Unclear | **CLARIFY**: Single API call or multiple? Error handling? |
| AC6 | ‚úÖ Yes | ‚úÖ Complete | **CRITICAL**: Must verify Changes table write |
| AC7 | ‚úÖ Yes | ‚úÖ Complete | Good: Success criteria clear |
| AC8 | ‚úÖ Yes | ‚úÖ Complete | Good: Analytics funnel specified |

**AC Quality**: ‚ö†Ô∏è **NEEDS IMPROVEMENT**

**Critical Issues**:
1. **AC3 is too broad**: Contains 8 sub-features (search, filter, click, configure, drag-drop, metrics)
2. **No AC for auto-save**: Critical quality feature missing
3. **No AC for draft restoration**: User data protection missing
4. **No AC for mobile sync testing**: How to verify IV2?

**Recommendations**:
1. **Add AC9**: "Auto-save draft to localStorage every 30 seconds"
2. **Add AC10**: "Restore draft on page load with user confirmation"
3. **Add AC11**: "Verify mobile sync by testing program appears in mobile app"
4. **Break down AC3** into separate testable criteria (for future reference)

---

## üìä Quality Predictions

**Expected Outcomes**:
- Test Coverage: 70-80% (complex UI, drag-drop hard to test)
- Quality Score: 70-85 (high complexity, many risks)
- Implementation Time: 23-31 hours (3-4 full days)
- Gate Decision: **CONCERNS** (complexity), **PASS** if all critical tests pass

**Likely Gate Issues**:
1. **Missing auto-save** (not in AC but critical)
2. **Mobile sync not verified** (how to test IV2?)
3. **Incomplete drag-drop testing** (complex to test)
4. **Component reuse issues** (Exercise Library conflicts)
5. **Missing security tests** (access control at all layers)

**How to Achieve PASS**:
- Implement auto-save (even though not in AC)
- Test mobile sync with real device
- Comprehensive access control testing
- Performance testing with large datasets
- 50-60 tests covering all features

---

## ‚úÖ Pre-Implementation Checklist

**Before Starting** (1-2 hours planning):
- [ ] Review all 752 lines of story (comprehensive dev notes)
- [ ] Plan phased implementation (8 phases above)
- [ ] Set up test data (exercises, sessions)
- [ ] Research dnd-kit library
- [ ] **Decision**: Implement auto-save? (RECOMMENDED)
- [ ] **Decision**: How to test mobile sync? (CRITICAL)

**During Development**:
- [ ] Implement Phase 1 (Access Control) FIRST
- [ ] Test each phase before proceeding
- [ ] Use feature flags for gradual rollout
- [ ] Performance monitoring at each phase
- [ ] Auto-save from Day 1

**Before Review**:
- [ ] All critical tests passing (50+ tests)
- [ ] Access control tested with real accounts
- [ ] Mobile sync verified (manual testing)
- [ ] Drag-drop tested on desktop + mobile
- [ ] Performance tested with 50 exercises
- [ ] Auto-save tested (refresh mid-creation)
- [ ] Complete analytics funnel verified

---

## üéì Learning Opportunities

**This Story Teaches**:
- Multi-step wizard implementation
- Component reuse with context adaptation
- Drag-and-drop libraries
- Auto-save patterns
- Cross-platform sync verification
- Complex state management

**Quality Bar**: This story sets quality expectations for all future complex features

---

**RECOMMENDATION**: ‚ö†Ô∏è **PROCEED WITH EXTREME CAUTION**

This is the **most complex feature** in MVP. Requires:
1. ‚úÖ Phased implementation (8 phases, 23-31 hours)
2. ‚úÖ Access control testing at all layers
3. ‚úÖ Mobile sync verification (CRITICAL)
4. ‚úÖ Auto-save implementation (not in AC but essential)
5. ‚úÖ 50-60 comprehensive tests
6. ‚úÖ Performance testing with large datasets

Expected gate: **CONCERNS** if auto-save missing or mobile sync not verified, **PASS** if all critical features tested.

**CRITICAL ACTIONS**:
1. Add auto-save to scope (essential for UX)
2. Plan mobile sync testing procedure
3. Budget 3-4 full development days
4. Consider breaking into 2 stories if scope too large



