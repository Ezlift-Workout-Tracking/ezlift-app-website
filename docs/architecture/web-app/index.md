# EzLift Secure Web App - Full-Stack Architecture

## Table of Contents

- [EzLift Secure Web App - Full-Stack Architecture](#table-of-contents)
  - [Executive Summary](./executive-summary.md)
    - [Key Architectural Decisions](./executive-summary.md#key-architectural-decisions)
    - [Core Principles](./executive-summary.md#core-principles)
  - [Table of Contents](./table-of-contents.md)
    - [Part 1: MVP Architecture (Phase 1)](./table-of-contents.md#part-1-mvp-architecture-phase-1)
    - [Part 2: Phase 2 Evolution (WatermelonDB)](./table-of-contents.md#part-2-phase-2-evolution-watermelondb)
    - [Part 3: Implementation Guidance](./table-of-contents.md#part-3-implementation-guidance)
  - [MVP Overview (Phase 1)](./mvp-overview-phase-1.md)
    - [Critical MVP Constraint ðŸ”´](./mvp-overview-phase-1.md#critical-mvp-constraint)
    - [MVP Sync Flow Diagrams](./mvp-overview-phase-1.md#mvp-sync-flow-diagrams)
    - [What We're Building](./mvp-overview-phase-1.md#what-were-building)
    - [What Makes This Different from Mobile](./mvp-overview-phase-1.md#what-makes-this-different-from-mobile)
  - [Technology Stack (MVP)](./technology-stack-mvp.md)
    - [Frontend Core (Inherits from Public Website)](./technology-stack-mvp.md#frontend-core-inherits-from-public-website)
    - [New Dependencies for Web App](./technology-stack-mvp.md#new-dependencies-for-web-app)
  - [System Architecture (MVP)](./system-architecture-mvp.md)
    - [High-Level Data Flow](./system-architecture-mvp.md#high-level-data-flow)
    - [Key Architectural Patterns](./system-architecture-mvp.md#key-architectural-patterns)
  - [Data Architecture (MVP)](./data-architecture-mvp.md)
    - [Data Flow Patterns](./data-architecture-mvp.md#data-flow-patterns)
    - [Client-Side Data Storage](./data-architecture-mvp.md#client-side-data-storage)
    - [Data Aggregation Strategy (Client-Side)](./data-architecture-mvp.md#data-aggregation-strategy-client-side)
  - [API Integration (MVP)](./api-integration-mvp.md)
    - [Backend API Endpoints (Available)](./api-integration-mvp.md#backend-api-endpoints-available)
      - [User & Profile Endpoints](./api-integration-mvp.md#user-profile-endpoints)
      - [Routine (Program) Endpoints](./api-integration-mvp.md#routine-program-endpoints)
      - [Workout Template Endpoints](./api-integration-mvp.md#workout-template-endpoints)
      - [Workout Session (Log) Endpoints](./api-integration-mvp.md#workout-session-log-endpoints)
    - [API Client Architecture](./api-integration-mvp.md#api-client-architecture)
    - [Error Handling Strategy](./api-integration-mvp.md#error-handling-strategy)
  - [Import Flow Architecture](./import-flow-architecture.md)
    - [CSV Import Process (Client-Side Parsing)](./import-flow-architecture.md#csv-import-process-client-side-parsing)
    - [Import Implementation](./import-flow-architecture.md#import-implementation)
    - [Import Flow UX](./import-flow-architecture.md#import-flow-ux)
  - [Analytics Integration](./analytics-integration.md)
    - [Event Tracking Strategy](./analytics-integration.md#event-tracking-strategy)
    - [Event Taxonomy](./analytics-integration.md#event-taxonomy)
    - [Analytics Initialization](./analytics-integration.md#analytics-initialization)
    - [Privacy & Consent](./analytics-integration.md#privacy-consent)
  - [Component Architecture](./component-architecture.md)
    - [Page Structure](./component-architecture.md#page-structure)
    - [Reused Components (From Public Website)](./component-architecture.md#reused-components-from-public-website)
    - [New Components (Web App Specific)](./component-architecture.md#new-components-web-app-specific)
      - [Dashboard Components](./component-architecture.md#dashboard-components)
      - [Program Builder Components](./component-architecture.md#program-builder-components)
      - [History Components](./component-architecture.md#history-components)
      - [Import Components](./component-architecture.md#import-components)
      - [Onboarding Components](./component-architecture.md#onboarding-components)
    - [Component Composition Strategy](./component-architecture.md#component-composition-strategy)
  - [Feature Specifications](./feature-specifications.md)
    - [Dashboard Feature](./feature-specifications.md#dashboard-feature)
    - [User Data State Detection (Critical for MVP)](./feature-specifications.md#user-data-state-detection-critical-for-mvp)
    - [Global Date Range Filter](./feature-specifications.md#global-date-range-filter)
  - [State Management](./state-management.md)
    - [React Query Configuration](./state-management.md#react-query-configuration)
    - [Query Keys Strategy](./state-management.md#query-keys-strategy)
    - [Optimistic Updates](./state-management.md#optimistic-updates)
  - [Phase 2 Overview (WatermelonDB)](./phase-2-overview-watermelondb.md)
    - [Why Phase 2 Exists](./phase-2-overview-watermelondb.md#why-phase-2-exists)
    - [Migration Trigger](./phase-2-overview-watermelondb.md#migration-trigger)
    - [Benefits of Phase 2 Migration](./phase-2-overview-watermelondb.md#benefits-of-phase-2-migration)
  - [WatermelonDB Integration](./watermelondb-integration.md)
    - [WatermelonDB on Web](./watermelondb-integration.md#watermelondb-on-web)
    - [Schema Definition (Matching Mobile v83)](./watermelondb-integration.md#schema-definition-matching-mobile-v83)
    - [Model Definitions](./watermelondb-integration.md#model-definitions)
    - [Sync Adapter Implementation](./watermelondb-integration.md#sync-adapter-implementation)
    - [React Hooks for WatermelonDB](./watermelondb-integration.md#react-hooks-for-watermelondb)
  - [Migration Path (From Phase 1 to Phase 2)](./migration-path-from-phase-1-to-phase-2.md)
    - [Migration Strategy](./migration-path-from-phase-1-to-phase-2.md#migration-strategy)
    - [Step 1: Install WatermelonDB (No Breaking Changes)](./migration-path-from-phase-1-to-phase-2.md#step-1-install-watermelondb-no-breaking-changes)
    - [Step 2: Initial Sync (Populate Local Database)](./migration-path-from-phase-1-to-phase-2.md#step-2-initial-sync-populate-local-database)
    - [Step 3: Parallel Data Layer (Feature Flag)](./migration-path-from-phase-1-to-phase-2.md#step-3-parallel-data-layer-feature-flag)
    - [Step 4: Component Updates](./migration-path-from-phase-1-to-phase-2.md#step-4-component-updates)
    - [Step 5: Sync on User Actions](./migration-path-from-phase-1-to-phase-2.md#step-5-sync-on-user-actions)
    - [Step 6: Background Sync (Phase 2 Only)](./migration-path-from-phase-1-to-phase-2.md#step-6-background-sync-phase-2-only)
    - [Migration Complete](./migration-path-from-phase-1-to-phase-2.md#migration-complete)
  - [Performance Strategy](./performance-strategy.md)
    - [Performance Budgets](./performance-strategy.md#performance-budgets)
    - [Optimization Techniques](./performance-strategy.md#optimization-techniques)
  - [Security & Authentication](./security-authentication.md)
    - [Authentication Flow (Unchanged from Public Site)](./security-authentication.md#authentication-flow-unchanged-from-public-site)
    - [Data Access Security](./security-authentication.md#data-access-security)
  - [Testing Strategy](./testing-strategy.md)
    - [Unit Tests](./testing-strategy.md#unit-tests)
    - [Integration Tests](./testing-strategy.md#integration-tests)
    - [E2E Tests (Optional for MVP)](./testing-strategy.md#e2e-tests-optional-for-mvp)
  - [Backend Improvement Opportunities](./backend-improvement-opportunities.md)
    - [Post-MVP Backend Enhancements](./backend-improvement-opportunities.md#post-mvp-backend-enhancements)
    - [Backend vs Client-Side Tradeoffs](./backend-improvement-opportunities.md#backend-vs-client-side-tradeoffs)
  - [Development Roadmap](./development-roadmap.md)
    - [Phase 1A: Foundation (Weeks 1-2)](./development-roadmap.md#phase-1a-foundation-weeks-1-2)
    - [Phase 1B: Dashboard Cards (Weeks 3-4)](./development-roadmap.md#phase-1b-dashboard-cards-weeks-3-4)
    - [Phase 1C: History & Profile (Week 5)](./development-roadmap.md#phase-1c-history-profile-week-5)
    - [Phase 1D: Import Flow (Week 6)](./development-roadmap.md#phase-1d-import-flow-week-6)
    - [Phase 1E: Program Builder (Weeks 7-8)](./development-roadmap.md#phase-1e-program-builder-weeks-7-8)
    - [Phase 1F: Onboarding (Weeks 9-10)](./development-roadmap.md#phase-1f-onboarding-weeks-9-10)
    - [Phase 1G: Analytics & Polish (Week 11)](./development-roadmap.md#phase-1g-analytics-polish-week-11)
    - [Phase 2: WatermelonDB Migration (Post-MVP)](./development-roadmap.md#phase-2-watermelondb-migration-post-mvp)
  - [Deployment Strategy](./deployment-strategy.md)
    - [Environment Variables (Netlify)](./deployment-strategy.md#environment-variables-netlify)
    - [Build Configuration](./deployment-strategy.md#build-configuration)
    - [Monitoring](./deployment-strategy.md#monitoring)
  - [Summary & Next Steps](./summary-next-steps.md)
    - [What We've Designed](./summary-next-steps.md#what-weve-designed)
    - [Architecture Quality](./summary-next-steps.md#architecture-quality)
    - [Critical Implementation Notes](./summary-next-steps.md#critical-implementation-notes)
  - [Change Log](./change-log.md)
  - [ðŸ”´ CRITICAL OPEN QUESTION FOR BACKEND TEAM](./critical-open-question-for-backend-team.md)


